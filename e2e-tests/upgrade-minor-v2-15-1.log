=== RUN   kuttl
    harness.go:457: starting setup
    harness.go:248: running tests using configured kubeconfig.
    harness.go:285: Successful connection to cluster at: https://34.61.15.105
    harness.go:353: running tests
    harness.go:74: going to run test suite with timeout of 180 seconds for each step
    harness.go:365: testsuite: e2e-tests/tests has 26 tests
=== RUN   kuttl/harness
=== RUN   kuttl/harness/upgrade-minor
=== PAUSE kuttl/harness/upgrade-minor
=== CONT  kuttl/harness/upgrade-minor
    logger.go:42: 13:56:22 | upgrade-minor | Creating namespace: kuttl-test-one-mayfly
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | starting test step 0-deploy-operator
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | running command: [sh -c set -o errexit
        set -o xtrace
        
        source ../../functions
        init_temp_dir # do this only in the first TestStep
        
        git_tag="v$(curl -s https://check.percona.com/versions/v1/pg-operator | jq -r '.versions[].operator' | sort -V | tail -n1)"
        deploy_operator_gh $git_tag
        deploy_client]
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | + source ../../functions
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ realpath ../../..
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | ++ ROOT_REPO=/Users/marukovich/github-projects/percona/percona-postgresql-operator
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | ++ CERT_MANAGER_VER=1.17.1
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | ++++ pwd
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ basename /Users/marukovich/github-projects/percona/percona-postgresql-operator/e2e-tests/tests/upgrade-minor
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | ++ test_name=upgrade-minor
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | ++ source /Users/marukovich/github-projects/percona/percona-postgresql-operator/e2e-tests/vars.sh
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export ROOT_REPO=/Users/marukovich/github-projects/percona/percona-postgresql-operator
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ ROOT_REPO=/Users/marukovich/github-projects/percona/percona-postgresql-operator
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export DEPLOY_DIR=/Users/marukovich/github-projects/percona/percona-postgresql-operator/deploy
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ DEPLOY_DIR=/Users/marukovich/github-projects/percona/percona-postgresql-operator/deploy
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export TESTS_DIR=/Users/marukovich/github-projects/percona/percona-postgresql-operator/e2e-tests
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ TESTS_DIR=/Users/marukovich/github-projects/percona/percona-postgresql-operator/e2e-tests
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export TESTS_CONFIG_DIR=/Users/marukovich/github-projects/percona/percona-postgresql-operator/e2e-tests/conf
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ TESTS_CONFIG_DIR=/Users/marukovich/github-projects/percona/percona-postgresql-operator/e2e-tests/conf
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export TEMP_DIR=/tmp/kuttl/pg/upgrade-minor
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ TEMP_DIR=/tmp/kuttl/pg/upgrade-minor
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | ++++ git rev-parse --abbrev-ref HEAD
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export GIT_BRANCH=K8SPG-748_add_statuses
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ GIT_BRANCH=K8SPG-748_add_statuses
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | ++++ echo K8SPG-748_add_statuses
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | ++++ sed -e 's^/^-^g; s^[.]^-^g;'
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | ++++ tr '[:upper:]' '[:lower:]'
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export VERSION=k8spg-748_add_statuses
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ VERSION=k8spg-748_add_statuses
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export IMAGE_BASE=perconalab/percona-postgresql-operator
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ IMAGE_BASE=perconalab/percona-postgresql-operator
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export IMAGE=tishina/percona-postgresql-operator:K8SPG-748-v2-15
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ IMAGE=tishina/percona-postgresql-operator:K8SPG-748-v2-15
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export PG_VER=17
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ PG_VER=17
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export IMAGE_PGBOUNCER=perconalab/percona-postgresql-operator:main-pgbouncer17
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ IMAGE_PGBOUNCER=perconalab/percona-postgresql-operator:main-pgbouncer17
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export IMAGE_POSTGRESQL=perconalab/percona-postgresql-operator:main-ppg17-postgres
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ IMAGE_POSTGRESQL=perconalab/percona-postgresql-operator:main-ppg17-postgres
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export IMAGE_BACKREST=perconalab/percona-postgresql-operator:main-pgbackrest17
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ IMAGE_BACKREST=perconalab/percona-postgresql-operator:main-pgbackrest17
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export IMAGE_UPGRADE=perconalab/percona-postgresql-operator:main-upgrade
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ IMAGE_UPGRADE=perconalab/percona-postgresql-operator:main-upgrade
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export BUCKET=pg-operator-testing
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ BUCKET=pg-operator-testing
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export PMM_SERVER_VERSION=9.9.9
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ PMM_SERVER_VERSION=9.9.9
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export IMAGE_PMM_CLIENT=perconalab/pmm-client:dev-latest
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ IMAGE_PMM_CLIENT=perconalab/pmm-client:dev-latest
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export IMAGE_PMM_SERVER=perconalab/pmm-server:dev-latest
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ IMAGE_PMM_SERVER=perconalab/pmm-server:dev-latest
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export IMAGE_PMM3_CLIENT=perconalab/pmm-client:3-dev-latest
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ IMAGE_PMM3_CLIENT=perconalab/pmm-client:3-dev-latest
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export IMAGE_PMM3_SERVER=perconalab/pmm-server:3-dev-latest
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ IMAGE_PMM3_SERVER=perconalab/pmm-server:3-dev-latest
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export PGOV1_TAG=1.4.0
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ PGOV1_TAG=1.4.0
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ export PGOV1_VER=14
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ PGOV1_VER=14
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | ++++ which gdate
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ date=/opt/homebrew/bin/gdate
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | ++++ which gsed
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ sed=/opt/homebrew/bin/gsed
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ command -v oc
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | +++ oc get projects
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | error: the server doesn't have a resource type "projects"
    logger.go:42: 13:56:23 | upgrade-minor/0-deploy-operator | ++ oc get projects
    logger.go:42: 13:56:24 | upgrade-minor/0-deploy-operator | + init_temp_dir
    logger.go:42: 13:56:24 | upgrade-minor/0-deploy-operator | + rm -rf /tmp/kuttl/pg/upgrade-minor
    logger.go:42: 13:56:24 | upgrade-minor/0-deploy-operator | + mkdir -p /tmp/kuttl/pg/upgrade-minor
    logger.go:42: 13:56:24 | upgrade-minor/0-deploy-operator | ++ curl -s https://check.percona.com/versions/v1/pg-operator
    logger.go:42: 13:56:24 | upgrade-minor/0-deploy-operator | ++ jq -r '.versions[].operator'
    logger.go:42: 13:56:24 | upgrade-minor/0-deploy-operator | ++ sort -V
    logger.go:42: 13:56:24 | upgrade-minor/0-deploy-operator | ++ tail -n1
    logger.go:42: 13:56:25 | upgrade-minor/0-deploy-operator | + git_tag=v2.6.0
    logger.go:42: 13:56:25 | upgrade-minor/0-deploy-operator | + deploy_operator_gh v2.6.0
    logger.go:42: 13:56:25 | upgrade-minor/0-deploy-operator | + local git_tag=v2.6.0
    logger.go:42: 13:56:25 | upgrade-minor/0-deploy-operator | + local cw_prefix=
    logger.go:42: 13:56:25 | upgrade-minor/0-deploy-operator | + destroy_operator
    logger.go:42: 13:56:25 | upgrade-minor/0-deploy-operator | + kubectl -n kuttl-test-one-mayfly delete deployment percona-postgresql-operator --force --grace-period=0
    logger.go:42: 13:56:25 | upgrade-minor/0-deploy-operator | Warning: Immediate deletion does not wait for confirmation that the running resource has been terminated. The resource may continue to run on the cluster indefinitely.
    logger.go:42: 13:56:25 | upgrade-minor/0-deploy-operator | Error from server (NotFound): deployments.apps "percona-postgresql-operator" not found
    logger.go:42: 13:56:25 | upgrade-minor/0-deploy-operator | + true
    logger.go:42: 13:56:25 | upgrade-minor/0-deploy-operator | + [[ -n '' ]]
    logger.go:42: 13:56:25 | upgrade-minor/0-deploy-operator | + [[ -n '' ]]
    logger.go:42: 13:56:25 | upgrade-minor/0-deploy-operator | + kubectl -n kuttl-test-one-mayfly apply --server-side --force-conflicts -f https://raw.githubusercontent.com/percona/percona-postgresql-operator/v2.6.0/deploy/crd.yaml
    logger.go:42: 13:56:26 | upgrade-minor/0-deploy-operator | customresourcedefinition.apiextensions.k8s.io/crunchybridgeclusters.postgres-operator.crunchydata.com serverside-applied
    logger.go:42: 13:56:27 | upgrade-minor/0-deploy-operator | customresourcedefinition.apiextensions.k8s.io/perconapgbackups.pgv2.percona.com serverside-applied
    logger.go:42: 13:56:28 | upgrade-minor/0-deploy-operator | customresourcedefinition.apiextensions.k8s.io/perconapgclusters.pgv2.percona.com serverside-applied
    logger.go:42: 13:56:29 | upgrade-minor/0-deploy-operator | customresourcedefinition.apiextensions.k8s.io/perconapgrestores.pgv2.percona.com serverside-applied
    logger.go:42: 13:56:29 | upgrade-minor/0-deploy-operator | customresourcedefinition.apiextensions.k8s.io/perconapgupgrades.pgv2.percona.com serverside-applied
    logger.go:42: 13:56:30 | upgrade-minor/0-deploy-operator | customresourcedefinition.apiextensions.k8s.io/pgadmins.postgres-operator.crunchydata.com serverside-applied
    logger.go:42: 13:56:31 | upgrade-minor/0-deploy-operator | customresourcedefinition.apiextensions.k8s.io/pgupgrades.postgres-operator.crunchydata.com serverside-applied
    logger.go:42: 13:56:33 | upgrade-minor/0-deploy-operator | customresourcedefinition.apiextensions.k8s.io/postgresclusters.postgres-operator.crunchydata.com serverside-applied
    logger.go:42: 13:56:33 | upgrade-minor/0-deploy-operator | + kubectl -n kuttl-test-one-mayfly apply --server-side --force-conflicts -f https://raw.githubusercontent.com/percona/percona-postgresql-operator/v2.6.0/deploy/rbac.yaml
    logger.go:42: 13:56:34 | upgrade-minor/0-deploy-operator | serviceaccount/percona-postgresql-operator serverside-applied
    logger.go:42: 13:56:34 | upgrade-minor/0-deploy-operator | role.rbac.authorization.k8s.io/percona-postgresql-operator serverside-applied
    logger.go:42: 13:56:34 | upgrade-minor/0-deploy-operator | rolebinding.rbac.authorization.k8s.io/percona-postgresql-operator serverside-applied
    logger.go:42: 13:56:34 | upgrade-minor/0-deploy-operator | + curl -s https://raw.githubusercontent.com/percona/percona-postgresql-operator/v2.6.0/deploy/operator.yaml
    logger.go:42: 13:56:34 | upgrade-minor/0-deploy-operator | + yq eval '.spec.template.spec.containers[0].image = "percona/percona-postgresql-operator:2.6.0"' /tmp/kuttl/pg/upgrade-minor/operator_v2.6.0.yaml
    logger.go:42: 13:56:34 | upgrade-minor/0-deploy-operator | + kubectl -n kuttl-test-one-mayfly apply -f -
    logger.go:42: 13:56:35 | upgrade-minor/0-deploy-operator | deployment.apps/percona-postgresql-operator created
    logger.go:42: 13:56:35 | upgrade-minor/0-deploy-operator | + deploy_client
    logger.go:42: 13:56:35 | upgrade-minor/0-deploy-operator | + kubectl -n kuttl-test-one-mayfly apply -f /Users/marukovich/github-projects/percona/percona-postgresql-operator/e2e-tests/conf/client.yaml
    logger.go:42: 13:56:37 | upgrade-minor/0-deploy-operator | deployment.apps/pg-client created
    logger.go:42: 13:56:39 | upgrade-minor/0-deploy-operator | running command: [sh -c kubectl assert exist-enhanced deployment percona-postgresql-operator -n ${OPERATOR_NS:-$NAMESPACE} --field-selector status.readyReplicas=1]
    logger.go:42: 13:56:39 | upgrade-minor/0-deploy-operator | [0;36mASSERT [0mdeployment percona-postgresql-operator matching field criteria 'status.readyReplicas=1' should exist.
    logger.go:42: 13:56:40 | upgrade-minor/0-deploy-operator | [0;36mASSERT [0;31mFAIL[0m Resource(s) not found.
    logger.go:42: 13:56:41 | upgrade-minor/0-deploy-operator | running command: [sh -c kubectl assert exist-enhanced deployment percona-postgresql-operator -n ${OPERATOR_NS:-$NAMESPACE} --field-selector status.readyReplicas=1]
    logger.go:42: 13:56:41 | upgrade-minor/0-deploy-operator | [0;36mASSERT [0mdeployment percona-postgresql-operator matching field criteria 'status.readyReplicas=1' should exist.
    logger.go:42: 13:56:42 | upgrade-minor/0-deploy-operator | [0;36mASSERT [0;31mFAIL[0m Resource(s) not found.
    logger.go:42: 13:56:43 | upgrade-minor/0-deploy-operator | running command: [sh -c kubectl assert exist-enhanced deployment percona-postgresql-operator -n ${OPERATOR_NS:-$NAMESPACE} --field-selector status.readyReplicas=1]
    logger.go:42: 13:56:43 | upgrade-minor/0-deploy-operator | [0;36mASSERT [0mdeployment percona-postgresql-operator matching field criteria 'status.readyReplicas=1' should exist.
    logger.go:42: 13:56:44 | upgrade-minor/0-deploy-operator | [0;36mASSERT [0;31mFAIL[0m Resource(s) not found.
    logger.go:42: 13:56:45 | upgrade-minor/0-deploy-operator | running command: [sh -c kubectl assert exist-enhanced deployment percona-postgresql-operator -n ${OPERATOR_NS:-$NAMESPACE} --field-selector status.readyReplicas=1]
    logger.go:42: 13:56:45 | upgrade-minor/0-deploy-operator | [0;36mASSERT [0mdeployment percona-postgresql-operator matching field criteria 'status.readyReplicas=1' should exist.
    logger.go:42: 13:56:46 | upgrade-minor/0-deploy-operator | [0;36mINFO   [0mFound 1 resource(s).
    logger.go:42: 13:56:46 | upgrade-minor/0-deploy-operator | NAME                          NAMESPACE               COL0
    logger.go:42: 13:56:46 | upgrade-minor/0-deploy-operator | percona-postgresql-operator   kuttl-test-one-mayfly   1
    logger.go:42: 13:56:46 | upgrade-minor/0-deploy-operator | [0;36mASSERT [0;32mPASS[0m
    logger.go:42: 13:56:46 | upgrade-minor/0-deploy-operator | test step completed 0-deploy-operator
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | starting test step 1-create-cluster
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | running command: [sh -c set -o errexit
        set -o xtrace
        
        source ../../functions
        
        # get lower operator version from which we will upgrade
        lower_ver="$(curl -s https://check.percona.com/versions/v1/pg-operator | jq -r '.versions[].operator' | sort -V | tail -n1)"
        curl -s "https://raw.githubusercontent.com/percona/percona-postgresql-operator/v${lower_ver}/deploy/cr.yaml" >"${TEMP_DIR}/cr_lower.yaml"
        
        # get PG version which we want to test
        pg_ver=$PG_VER
        pg_exists=0
        pg_exists=$(curl -s https://check.percona.com/versions/v1/pg-operator/${lower_ver} | jq '.versions[].matrix.postgresql | with_entries(select(.key | startswith("'$pg_ver'"))) | length')
        # if the lower version of operator doesn't have new PG version we will use lower PG version
        # but in that case not the intended targer PG database image will be tested
        # (this should happen once a year on major PG version release, but only for this latest version)
        if [ $pg_exists -eq 0 ]; then
            pg_ver=$((pg_ver - 1))
        fi
        echo $pg_ver >"${TEMP_DIR}/pg_ver.txt"
        
        yq -i eval '
            .metadata.name = "'${test_name}'" |
            .metadata.labels = {"e2e":"'${test_name}'"} |
            .spec.image = "percona/percona-postgresql-operator:'${lower_ver}'-ppg'$pg_ver'-postgres" |
            .spec.postgresVersion = '$pg_ver' |
            .spec.proxy.pgBouncer.image = "percona/percona-postgresql-operator:'${lower_ver}'-ppg'$pg_ver'-pgbouncer" |
            .spec.backups.pgbackrest.repos[0].schedules = null |
            .spec.backups.pgbackrest.image = "percona/percona-postgresql-operator:'${lower_ver}'-ppg'$pg_ver'-pgbackrest" |
            .spec.users += [{"name":"postgres","password":{"type":"AlphaNumeric"}}] |
            .spec.users += [{"name":"'${test_name}'","password":{"type":"AlphaNumeric"}}]' "${TEMP_DIR}/cr_lower.yaml"
        kubectl -n "${NAMESPACE}" apply -f "${TEMP_DIR}/cr_lower.yaml"]
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | + source ../../functions
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ realpath ../../..
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | ++ ROOT_REPO=/Users/marukovich/github-projects/percona/percona-postgresql-operator
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | ++ CERT_MANAGER_VER=1.17.1
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | ++++ pwd
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ basename /Users/marukovich/github-projects/percona/percona-postgresql-operator/e2e-tests/tests/upgrade-minor
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | ++ test_name=upgrade-minor
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | ++ source /Users/marukovich/github-projects/percona/percona-postgresql-operator/e2e-tests/vars.sh
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export ROOT_REPO=/Users/marukovich/github-projects/percona/percona-postgresql-operator
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ ROOT_REPO=/Users/marukovich/github-projects/percona/percona-postgresql-operator
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export DEPLOY_DIR=/Users/marukovich/github-projects/percona/percona-postgresql-operator/deploy
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ DEPLOY_DIR=/Users/marukovich/github-projects/percona/percona-postgresql-operator/deploy
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export TESTS_DIR=/Users/marukovich/github-projects/percona/percona-postgresql-operator/e2e-tests
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ TESTS_DIR=/Users/marukovich/github-projects/percona/percona-postgresql-operator/e2e-tests
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export TESTS_CONFIG_DIR=/Users/marukovich/github-projects/percona/percona-postgresql-operator/e2e-tests/conf
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ TESTS_CONFIG_DIR=/Users/marukovich/github-projects/percona/percona-postgresql-operator/e2e-tests/conf
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export TEMP_DIR=/tmp/kuttl/pg/upgrade-minor
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ TEMP_DIR=/tmp/kuttl/pg/upgrade-minor
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | ++++ git rev-parse --abbrev-ref HEAD
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export GIT_BRANCH=K8SPG-748_add_statuses
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ GIT_BRANCH=K8SPG-748_add_statuses
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | ++++ echo K8SPG-748_add_statuses
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | ++++ sed -e 's^/^-^g; s^[.]^-^g;'
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | ++++ tr '[:upper:]' '[:lower:]'
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export VERSION=k8spg-748_add_statuses
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ VERSION=k8spg-748_add_statuses
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export IMAGE_BASE=perconalab/percona-postgresql-operator
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ IMAGE_BASE=perconalab/percona-postgresql-operator
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export IMAGE=tishina/percona-postgresql-operator:K8SPG-748-v2-15
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ IMAGE=tishina/percona-postgresql-operator:K8SPG-748-v2-15
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export PG_VER=17
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ PG_VER=17
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export IMAGE_PGBOUNCER=perconalab/percona-postgresql-operator:main-pgbouncer17
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ IMAGE_PGBOUNCER=perconalab/percona-postgresql-operator:main-pgbouncer17
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export IMAGE_POSTGRESQL=perconalab/percona-postgresql-operator:main-ppg17-postgres
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ IMAGE_POSTGRESQL=perconalab/percona-postgresql-operator:main-ppg17-postgres
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export IMAGE_BACKREST=perconalab/percona-postgresql-operator:main-pgbackrest17
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ IMAGE_BACKREST=perconalab/percona-postgresql-operator:main-pgbackrest17
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export IMAGE_UPGRADE=perconalab/percona-postgresql-operator:main-upgrade
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ IMAGE_UPGRADE=perconalab/percona-postgresql-operator:main-upgrade
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export BUCKET=pg-operator-testing
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ BUCKET=pg-operator-testing
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export PMM_SERVER_VERSION=9.9.9
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ PMM_SERVER_VERSION=9.9.9
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export IMAGE_PMM_CLIENT=perconalab/pmm-client:dev-latest
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ IMAGE_PMM_CLIENT=perconalab/pmm-client:dev-latest
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export IMAGE_PMM_SERVER=perconalab/pmm-server:dev-latest
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ IMAGE_PMM_SERVER=perconalab/pmm-server:dev-latest
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export IMAGE_PMM3_CLIENT=perconalab/pmm-client:3-dev-latest
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ IMAGE_PMM3_CLIENT=perconalab/pmm-client:3-dev-latest
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export IMAGE_PMM3_SERVER=perconalab/pmm-server:3-dev-latest
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ IMAGE_PMM3_SERVER=perconalab/pmm-server:3-dev-latest
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export PGOV1_TAG=1.4.0
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ PGOV1_TAG=1.4.0
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ export PGOV1_VER=14
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ PGOV1_VER=14
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | ++++ which gdate
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ date=/opt/homebrew/bin/gdate
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | ++++ which gsed
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ sed=/opt/homebrew/bin/gsed
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ command -v oc
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | +++ oc get projects
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | error: the server doesn't have a resource type "projects"
    logger.go:42: 13:56:46 | upgrade-minor/1-create-cluster | ++ oc get projects
    logger.go:42: 13:56:47 | upgrade-minor/1-create-cluster | ++ curl -s https://check.percona.com/versions/v1/pg-operator
    logger.go:42: 13:56:47 | upgrade-minor/1-create-cluster | ++ jq -r '.versions[].operator'
    logger.go:42: 13:56:47 | upgrade-minor/1-create-cluster | ++ sort -V
    logger.go:42: 13:56:47 | upgrade-minor/1-create-cluster | ++ tail -n1
    logger.go:42: 13:56:48 | upgrade-minor/1-create-cluster | + lower_ver=2.6.0
    logger.go:42: 13:56:48 | upgrade-minor/1-create-cluster | + curl -s https://raw.githubusercontent.com/percona/percona-postgresql-operator/v2.6.0/deploy/cr.yaml
    logger.go:42: 13:56:48 | upgrade-minor/1-create-cluster | + pg_ver=17
    logger.go:42: 13:56:48 | upgrade-minor/1-create-cluster | + pg_exists=0
    logger.go:42: 13:56:48 | upgrade-minor/1-create-cluster | ++ curl -s https://check.percona.com/versions/v1/pg-operator/2.6.0
    logger.go:42: 13:56:48 | upgrade-minor/1-create-cluster | ++ jq '.versions[].matrix.postgresql | with_entries(select(.key | startswith("17"))) | length'
    logger.go:42: 13:56:49 | upgrade-minor/1-create-cluster | + pg_exists=2
    logger.go:42: 13:56:49 | upgrade-minor/1-create-cluster | + '[' 2 -eq 0 ']'
    logger.go:42: 13:56:49 | upgrade-minor/1-create-cluster | + echo 17
    logger.go:42: 13:56:49 | upgrade-minor/1-create-cluster | + yq -i eval '
    logger.go:42: 13:56:49 | upgrade-minor/1-create-cluster |     .metadata.name = "upgrade-minor" |
    logger.go:42: 13:56:49 | upgrade-minor/1-create-cluster |     .metadata.labels = {"e2e":"upgrade-minor"} |
    logger.go:42: 13:56:49 | upgrade-minor/1-create-cluster |     .spec.image = "percona/percona-postgresql-operator:2.6.0-ppg17-postgres" |
    logger.go:42: 13:56:49 | upgrade-minor/1-create-cluster |     .spec.postgresVersion = 17 |
    logger.go:42: 13:56:49 | upgrade-minor/1-create-cluster |     .spec.proxy.pgBouncer.image = "percona/percona-postgresql-operator:2.6.0-ppg17-pgbouncer" |
    logger.go:42: 13:56:49 | upgrade-minor/1-create-cluster |     .spec.backups.pgbackrest.repos[0].schedules = null |
    logger.go:42: 13:56:49 | upgrade-minor/1-create-cluster |     .spec.backups.pgbackrest.image = "percona/percona-postgresql-operator:2.6.0-ppg17-pgbackrest" |
    logger.go:42: 13:56:49 | upgrade-minor/1-create-cluster |     .spec.users += [{"name":"postgres","password":{"type":"AlphaNumeric"}}] |
    logger.go:42: 13:56:49 | upgrade-minor/1-create-cluster |     .spec.users += [{"name":"upgrade-minor","password":{"type":"AlphaNumeric"}}]' /tmp/kuttl/pg/upgrade-minor/cr_lower.yaml
    logger.go:42: 13:56:49 | upgrade-minor/1-create-cluster | + kubectl -n kuttl-test-one-mayfly apply -f /tmp/kuttl/pg/upgrade-minor/cr_lower.yaml
    logger.go:42: 13:56:50 | upgrade-minor/1-create-cluster | perconapgcluster.pgv2.percona.com/upgrade-minor created
